<%
    // Based on the handler return structure and framework behavior inferred from the programs page,
    // the data object properties are spread into locals.
    const recentPrograms = locals.recentPrograms || [];
%>

<%- include('../../components/shared/breadcrumb', {
    title: 'Donations',
    crumbs: [
        { href: '/', text: 'Home' },
        { href: '#', text: 'Donations' }
    ],
    bgImage: '/images/NGO/WhatsApp Image 2026-02-06 at 6.31.36 PM.jpeg',
    thumb: '/images/NGO/WhatsApp Image 2026-02-06 at 6.31.38 PM.jpeg'
}) %>

<!-- services-details-section start -->
<section class="services-details-section-2 p-t-120 p-b-225">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="details-layout-wrap">
                    <div class="details-content" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="600">
                        <div class="detail-info-wrap m-b-60">
                            <div class="detail-info-contents">

                                <div class="make-donate m-b-30">
                                    <div class="details-subtitle m-b-20">
                                        <h4>
                                            <span><img src="/assets/img/icons/icon-4.svg" alt="icon"/></span>
                                            Your donation helps us
                                        </h4>
                                    </div>
                                    <div class="icon-wrap">
                                        <input type="text" class="selected-amount" placeholder="0" value="240"/>
                                        <span style="font-weight:bold; font-family: sans-serif; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); font-size: 20px;">₦</span>
                                    </div>
                                </div>
                                <div class="thank-you-text m-b-30">
                                    <p>❤️Thank You For Donation !!</p>
                                </div>
                                <div class="payment-method-form">
                                    <form id="donationForm" action="/api/donations/initialize" method="POST">
                                        <input type="hidden" name="amount" id="hiddenAmount" value="240">
                                        <% if (locals.selectedProgram) { %>
                                            <input type="hidden" name="programName" value="<%= locals.selectedProgram.title %>">
                                            <div class="selected-program-info m-b-20" style="background: #fdf1ec; padding: 15px; border-radius: 8px; border-left: 4px solid #FF5E14;">
                                                <p style="margin: 0; font-weight: 500; color: #333;">
                                                    You are donating to: <strong style="color: #FF5E14;"><%= locals.selectedProgram.title %></strong>
                                                </p>
                                            </div>
                                        <% } %>
                                        <h5>Personal Information:</h5>
                                        <div class="info-input m-b-20">
                                            <input type="text" class="form-control" name="name" id="exampleFormControlInput1" placeholder="John Abraham" required/>
                                            <input type="email" class="form-control" name="email" id="exampleFormControlInput2" placeholder="Email Address" required/>
                                        </div>
                                        <div class="m-b-20">
                                            <textarea class="form-control" name="message" id="exampleFormControlTextarea1" placeholder="Say Something..." rows="4"></textarea>
                                        </div>
                                        <div class="form-bottom">
                                            <button type="submit" class="e-primary-btn has-icon">
                                                Complete Donation
                                                <span class="icon-wrap">
                                                    <span class="icon"><i class="fa-regular fa-arrow-right"></i><i class="fa-regular fa-arrow-right"></i></span>
                                                </span>
                                            </button>
                                            <p id="totalDonationDisplay">Total Donation: ₦<span id="totalDonationValue">240</span></p>
                                        </div>
                                        <div class="impact-text">
                                            <p>
                                                <span>Direct Impact: </span>Your donations reach
                                                the most vulnerable communities around the world.
                                            </p>
                                        </div>
                                    </form>
                                </div>




                            </div>
                        </div>
                    </div>
                    <div class="detail-sidebar" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="800">
                        <div class="s-widget-wrap m-b-30">
                            <div class="w-title">
                                <h3>Recent Programs</h3>
                                <div class="bar-wrap">
                                    <div class="bar-1"></div>
                                    <div class="bar-2"></div>
                                </div>
                            </div>
                            <div class="recent-course-slider-active" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="600">
                                <div class="swiper">
                                    <div class="swiper-wrapper">
                                        <% if (recentPrograms && recentPrograms.length > 0) { %>
                                            <% recentPrograms.forEach(function(program) { %>
                                            <div class="swiper-slide">
                                                <div class="camping-card-2 widget-style">
                                                    <div class="thumb">
                                                        <a href='/programs/<%= program.slug %>'>
                                                            <img src="<%= program.image %>" alt="<%= program.title %>"/>
                                                        </a>

                                                    </div>
                                                    <div class="content">
                                                        <div class="donation-wrap">
                                                            <div class="content-top">
                                                                <div class="title">
                                                                    <h3>
                                                                        <a href='/programs/<%= program.slug %>'>
                                                                            <%= program.title %>
                                                                        </a>
                                                                    </h3>
                                                                </div>
                                                            </div>
                                                            <!-- <div class="d-top">
                                                                <p>Donation Complete</p>
                                                                <p><%= program.percentage %>%</p>
                                                            </div> -->
                                                            <!-- <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="<%= program.percentage %>" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar" style="<%= program.progressStyle %>"></div>
                                                            </div> -->
                                                            <!-- <div class="fund">
                                                                <p>Raised: <span>₦<%= program.raised %></span></p>
                                                                <p>Goal: <span>₦<%= program.goal %></span></p>
                                                            </div> -->
                                                            <div class="d-bottom">
                                                                <a class='e-primary-btn has-small has-icon d-btn' href='/programs/<%= program.slug %>'>
                                                                    Donate Now
                                                                    <span class="icon-wrap">
                                                                        <span class="icon">
                                                                            <i class="fa-regular fa-arrow-right"></i>
                                                                            <i class="fa-regular fa-arrow-right"></i>
                                                                        </span>
                                                                    </span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% }); %>
                                        <% } else { %>
                                            <div class="swiper-slide">
                                                <p>No recent programs found.</p>
                                            </div>
                                        <% } %>
                                    </div>
                                </div>
                                <div class="recent-course-pagination-wrap">
                                    <div class="recent-course-pagination"></div>
                                </div>
                            </div>
                        </div>
                        <div class="s-widget-wrap m-b-30">
                            <div class="detail-contact text-center">
                                <div class="thumb">
                                    <img src="/assets/img/shapes/shape-47.webp" alt="shape"/>
                                </div>
                                <div class="icon-info-wrap">
                                    <div class="icon-wrap">
                                        <div class="icon">
                                            <img src="/assets/img/icons/icon-18.svg" alt="icon"/>
                                        </div>
                                        <div class="bar-wrap">
                                            <div class="bar-1"></div>
                                            <div class="bar-2"></div>
                                        </div>
                                    </div>
                                    <div class="info">
                                        <h3><a href="tel:+2347065714529">+234 706 571 4529</a></h3>
                                        <p>Need Help?</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-shape-1">
        <img src="/assets/img/shapes/shape-30.webp" alt="shape-30">
    </div>
</section>
<!-- services-details-section end -->

<!-- contact-info-section start -->
<section class="contact-info-section">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="contact-info-layout">
                    <a href="mailto:info@cherivenfoundation.org" class="contact-info active">
                        <div class="icon-wrap">
                            <div class="icon-shape"></div>
                            <div class="icon">
                                <i class="fa-solid fa-paper-plane"></i>
                            </div>
                        </div>
                        <h3>info@cherivenfoundation.org</h3>
                        <p>Send a Email</p>
                    </a>
                    <a href="tel:+2347065714529" class="contact-info">
                        <div class="icon-wrap">
                            <div class="icon-shape"></div>
                            <div class="icon">
                                <i class="fa-solid fa-phone-arrow-up-right"></i>
                            </div>
                        </div>
                        <h3>+234 706 571 4529</h3>
                        <p>Any Time Call Us</p>
                    </a>
                    <a href="#" class="contact-info">
                        <div class="icon-wrap">
                            <div class="icon-shape"></div>
                            <div class="icon">
                                <i class="fa-solid fa-location-dot"></i>
                            </div>
                        </div>
                        <h3>Suite 111/125 El-Rufai Block, New Garki International Market, Abuja, Nigeria.</h3>
                        <p>Our Address</p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
